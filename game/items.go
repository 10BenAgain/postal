package game

import (
	"strings"
	"unicode"
)

var (
	oneLiner    = []uint16{0x0067, 0x00B3, 0x00BC, 0x00C0, 0x00C1, 0x00CE, 0x00D4, 0x00D6, 0x0172, 0x0173}
	doubleCapLs = doubleCapList()
)

var (
	DoubleCapItems = makeDoubleCapProperList()
	OneLinerItems  = makeOneLinerList()
)

func makeDoubleCapProperList() map[string]uint16 {
	l := make(map[string]uint16, len(doubleCapLs))
	w := new(strings.Builder)
	for _, i := range doubleCapLs {
		split := strings.Split(Items[i], " ")
		for k, word := range split {
			r := []rune(word)
			for j := range r {
				if j == 0 {
					r[0] = unicode.ToUpper(r[0])
				} else {
					r[j] = unicode.ToLower(r[j])
				}
			}

			if k < len(split)-1 {
				r = append(r, ' ')
			}

			w.WriteString(string(r))
		}
		l[w.String()] = i
		w.Reset()
	}

	return l
}

func makeOneLinerList() map[string]uint16 {
	l := make(map[string]uint16, len(oneLiner))
	for _, word := range oneLiner {
		r := []rune(Items[word])
		for j := range r {
			if j == 0 {
				r[0] = unicode.ToUpper(r[0])
			} else {
				r[j] = unicode.ToLower(r[j])
			}
		}
		l[string(r)] = word
	}

	return l
}

func doubleCapList() []uint16 {
	out := []uint16{0x003F, 0x0045, 0x0047, 0x0109, 0x016A, 0x016C}

	for i := range 58 {
		out = append(out, uint16(0x0121+i))
	}

	return out
}

// This is probably just easier than more functions
var Balls = map[uint16]string{
	0x0001: "Master Ball",
	0x0002: "Ultra Ball",
	0x0003: "Great Ball",
	0x0004: "Poke Ball",
	0x0005: "Safari Ball",
	0x0006: "Net Ball",
	0x0007: "Dive Ball",
	0x0008: "Nest Ball",
	0x0009: "Repeat Ball",
	0x000A: "Timer Ball",
	0x000B: "Luxury Ball",
	0x000C: "Premier Ball",
}

// https://bulbapedia.bulbagarden.net/wiki/List_of_items_by_index_number_in_Generation_III
var Items = map[uint16]string{
	0x0:    "None",
	0x0001: "Master Ball",
	0x0002: "Ultra Ball",
	0x0003: "Great Ball",
	0x0004: "Poke Ball",
	0x0005: "Safari Ball",
	0x0006: "Net Ball",
	0x0007: "Dive Ball",
	0x0008: "Nest Ball",
	0x0009: "Repeat Ball",
	0x000A: "Timer Ball",
	0x000B: "Luxury Ball",
	0x000C: "Premier Ball",
	0x000D: "Potion",
	0x000E: "Antidote",
	0x000F: "Burn Heal",
	0x0010: "Ice Heal",
	0x0011: "Awakening",
	0x0012: "Parlyz Heal",
	0x0013: "Full Restore",
	0x0014: "Max Potion",
	0x0015: "Hyper Potion",
	0x0016: "Super Potion",
	0x0017: "Full Heal",
	0x0018: "Revive",
	0x0019: "Max Revive",
	0x001A: "Fresh Water",
	0x001B: "Soda Pop",
	0x001C: "Lemonade",
	0x001D: "Moomoo Milk",
	0x001E: "EnergyPowder",
	0x001F: "Energy Root",
	0x0020: "Heal Powder",
	0x0021: "Revival Herb",
	0x0022: "Ether",
	0x0023: "Max Ether",
	0x0024: "Elixir",
	0x0025: "Max Elixir",
	0x0026: "Lava Cookie",
	0x0027: "Blue Flute",
	0x0028: "Yellow Flute",
	0x0029: "Red Flute",
	0x002A: "Black Flute",
	0x002B: "White Flute",
	0x002C: "Berry Juice",
	0x002D: "Sacred Ash",
	0x002E: "Shoal Salt",
	0x002F: "Shoal Shell",
	0x0030: "Red Shard",
	0x0031: "Blue Shard",
	0x0032: "Yellow Shard",
	0x0033: "Green Shard",
	0x0034: "unknown",
	0x0035: "unknown",
	0x0036: "unknown",
	0x0037: "unknown",
	0x0038: "unknown",
	0x0039: "unknown",
	0x003A: "unknown",
	0x003B: "unknown",
	0x003C: "unknown",
	0x003D: "unknown",
	0x003E: "unknown",
	0x003F: "HP Up",
	0x0040: "Protein",
	0x0041: "Iron",
	0x0042: "Carbos",
	0x0043: "Calcium",
	0x0044: "Rare Candy",
	0x0045: "PP Up",
	0x0046: "Zinc",
	0x0047: "PP Max",
	0x0048: "unknown",
	0x0049: "Guard Spec.",
	0x004A: "Dire Hit",
	0x004B: "X Attack",
	0x004C: "X Defend",
	0x004D: "X Speed",
	0x004E: "X Accuracy",
	0x004F: "X Special",
	0x0050: "Poke Doll",
	0x0051: "Fluffy Tail",
	0x0052: "unknown",
	0x0053: "Super Repel",
	0x0054: "Max Repel",
	0x0055: "Escape Rope",
	0x0056: "Repel",
	0x0057: "unknown",
	0x0058: "unknown",
	0x0059: "unknown",
	0x005A: "unknown",
	0x005B: "unknown",
	0x005C: "unknown",
	0x005D: "Sun Stone",
	0x005E: "Moon Stone",
	0x005F: "Fire Stone",
	0x0060: "Thunderstone",
	0x0061: "Water Stone",
	0x0062: "Leaf Stone",
	0x0063: "unknown",
	0x0064: "unknown",
	0x0065: "unknown",
	0x0066: "unknown",
	0x0067: "TinyMushroom",
	0x0068: "Big Mushroom",
	0x0069: "unknown",
	0x006A: "Pearl",
	0x006B: "Big Pearl",
	0x006C: "Stardust",
	0x006D: "Star Piece",
	0x006E: "Nugget",
	0x006F: "Heart Scale",
	0x0070: "unknown",
	0x0071: "unknown",
	0x0072: "unknown",
	0x0073: "unknown",
	0x0074: "unknown",
	0x0075: "unknown",
	0x0076: "unknown",
	0x0077: "unknown",
	0x0078: "unknown",
	0x0079: "Orange Mail",
	0x007A: "Harbor Mail",
	0x007B: "Glitter Mail",
	0x007C: "Mech Mail",
	0x007D: "Wood Mail",
	0x007E: "Wave Mail",
	0x007F: "Bead Mail",
	0x0080: "Shadow Mail",
	0x0081: "Tropic Mail",
	0x0082: "Dream Mail",
	0x0083: "Fab Mail",
	0x0084: "Retro Mail",
	0x0085: "Cheri Berry",
	0x0086: "Chesto Berry",
	0x0087: "Pecha Berry",
	0x0088: "Rawst Berry",
	0x0089: "Aspear Berry",
	0x008A: "Leppa Berry",
	0x008B: "Oran Berry",
	0x008C: "Persim Berry",
	0x008D: "Lum Berry",
	0x008E: "Sitrus Berry",
	0x008F: "Figy Berry",
	0x0090: "Wiki Berry",
	0x0091: "Mago Berry",
	0x0092: "Aguav Berry",
	0x0093: "Iapapa Berry",
	0x0094: "Razz Berry",
	0x0095: "Bluk Berry",
	0x0096: "Nanab Berry",
	0x0097: "Wepear Berry",
	0x0098: "Pinap Berry",
	0x0099: "Pomeg Berry",
	0x009A: "Kelpsy Berry",
	0x009B: "Qualot Berry",
	0x009C: "Hondew Berry",
	0x009D: "Grepa Berry",
	0x009E: "Tamato Berry",
	0x009F: "Cornn Berry",
	0x00A0: "Magost Berry",
	0x00A1: "Rabuta Berry",
	0x00A2: "Nomel Berry",
	0x00A3: "Spelon Berry",
	0x00A4: "Pamtre Berry",
	0x00A5: "Watmel Berry",
	0x00A6: "Durin Berry",
	0x00A7: "Belue Berry",
	0x00A8: "Liechi Berry",
	0x00A9: "Ganlon Berry",
	0x00AA: "Salac Berry",
	0x00AB: "Petaya Berry",
	0x00AC: "Apicot Berry",
	0x00AD: "Lansat Berry",
	0x00AE: "Starf Berry",
	0x00AF: "Enigma Berry",
	0x00B0: "unknown",
	0x00B1: "unknown",
	0x00B2: "unknown",
	0x00B3: "BrightPowder",
	0x00B4: "White Herb",
	0x00B5: "Macho Brace",
	0x00B6: "Exp. Share",
	0x00B7: "Quick Claw",
	0x00B8: "Soothe Bell",
	0x00B9: "Mental Herb",
	0x00BA: "Choice Band",
	0x00BB: "King's Rock",
	0x00BC: "SilverPowder",
	0x00BD: "Amulet Coin",
	0x00BE: "Cleanse Tag",
	0x00BF: "Soul Dew",
	0x00C0: "DeepSeaTooth",
	0x00C1: "DeepSeaScale",
	0x00C2: "Smoke Ball",
	0x00C3: "Everstone",
	0x00C4: "Focus Band",
	0x00C5: "Lucky Egg",
	0x00C6: "Scope Lens",
	0x00C7: "Metal Coat",
	0x00C8: "Leftovers",
	0x00C9: "Dragon Scale",
	0x00CA: "Light Ball",
	0x00CB: "Soft Sand",
	0x00CC: "Hard Stone",
	0x00CD: "Miracle Seed",
	0x00CE: "BlackGlasses",
	0x00CF: "Black Belt",
	0x00D0: "Magnet",
	0x00D1: "Mystic Water",
	0x00D2: "Sharp Beak",
	0x00D3: "Poison Barb",
	0x00D4: "NeverMeltIce",
	0x00D5: "Spell Tag",
	0x00D6: "TwistedSpoon",
	0x00D7: "Charcoal",
	0x00D8: "Dragon Fang",
	0x00D9: "Silk Scarf",
	0x00DA: "Up-Grade",
	0x00DB: "Shell Bell",
	0x00DC: "Sea Incense",
	0x00DD: "Lax Incense",
	0x00DE: "Lucky Punch",
	0x00DF: "Metal Powder",
	0x00E0: "Thick Club",
	0x00E1: "Stick",
	0x00E2: "unknown",
	0x00E3: "unknown",
	0x00E4: "unknown",
	0x00E5: "unknown",
	0x00E6: "unknown",
	0x00E7: "unknown",
	0x00E8: "unknown",
	0x00E9: "unknown",
	0x00EA: "unknown",
	0x00EB: "unknown",
	0x00EC: "unknown",
	0x00ED: "unknown",
	0x00EE: "unknown",
	0x00EF: "unknown",
	0x00F0: "unknown",
	0x00F1: "unknown",
	0x00F2: "unknown",
	0x00F3: "unknown",
	0x00F4: "unknown",
	0x00F5: "unknown",
	0x00F6: "unknown",
	0x00F7: "unknown",
	0x00F8: "unknown",
	0x00F9: "unknown",
	0x00FA: "unknown",
	0x00FB: "unknown",
	0x00FC: "unknown",
	0x00FD: "unknown",
	0x00FE: "Red Scarf",
	0x00FF: "Blue Scarf",
	0x0100: "Pink Scarf",
	0x0101: "Green Scarf",
	0x0102: "Yellow Scarf",
	0x0103: "Mach Bike",
	0x0104: "Coin Case",
	0x0105: "Itemfinder",
	0x0106: "Old Rod",
	0x0107: "Good Rod",
	0x0108: "Super Rod",
	0x0109: "SS Ticket",
	0x010A: "Contest Pass",
	0x010B: "unknown",
	0x010C: "Wailmer Pail",
	0x010D: "Devon Goods",
	0x010E: "Soot Sack",
	0x010F: "Basement Key",
	0x0110: "Acro Bike",
	0x0111: "Pokeblock Case",
	0x0112: "Letter",
	0x0113: "Eon Ticket",
	0x0114: "Red Orb",
	0x0115: "Blue Orb",
	0x0116: "Scanner",
	0x0117: "Go-Goggles",
	0x0118: "Meteorite",
	0x0119: "Rm. 1 Key",
	0x011A: "Rm. 2 Key",
	0x011B: "Rm. 4 Key",
	0x011C: "Rm. 6 Key",
	0x011D: "Storage Key",
	0x011E: "Root Fossil",
	0x011F: "Claw Fossil",
	0x0120: "Devon Scope",
	0x0121: "TM01",
	0x0122: "TM02",
	0x0123: "TM03",
	0x0124: "TM04",
	0x0125: "TM05",
	0x0126: "TM06",
	0x0127: "TM07",
	0x0128: "TM08",
	0x0129: "TM09",
	0x012A: "TM10",
	0x012B: "TM11",
	0x012C: "TM12",
	0x012D: "TM13",
	0x012E: "TM14",
	0x012F: "TM15",
	0x0130: "TM16",
	0x0131: "TM17",
	0x0132: "TM18",
	0x0133: "TM19",
	0x0134: "TM20",
	0x0135: "TM21",
	0x0136: "TM22",
	0x0137: "TM23",
	0x0138: "TM24",
	0x0139: "TM25",
	0x013A: "TM26",
	0x013B: "TM27",
	0x013C: "TM28",
	0x013D: "TM29",
	0x013E: "TM30",
	0x013F: "TM31",
	0x0140: "TM32",
	0x0141: "TM33",
	0x0142: "TM34",
	0x0143: "TM35",
	0x0144: "TM36",
	0x0145: "TM37",
	0x0146: "TM38",
	0x0147: "TM39",
	0x0148: "TM40",
	0x0149: "TM41",
	0x014A: "TM42",
	0x014B: "TM43",
	0x014C: "TM44",
	0x014D: "TM45",
	0x014E: "TM46",
	0x014F: "TM47",
	0x0150: "TM48",
	0x0151: "TM49",
	0x0152: "TM50",
	0x0153: "HM01",
	0x0154: "HM02",
	0x0155: "HM03",
	0x0156: "HM04",
	0x0157: "HM05",
	0x0158: "HM06",
	0x0159: "HM07",
	0x015A: "HM08",
	0x015B: "unknown",
	0x015C: "unknown",
	0x015D: "Oak's Parcel",
	0x015E: "Poke Flute",
	0x015F: "Secret Key",
	0x0160: "Bike Voucher",
	0x0161: "Gold Teeth",
	0x0162: "Old Amber",
	0x0163: "Card Key",
	0x0164: "Lift Key",
	0x0165: "Helix Fossil",
	0x0166: "Dome Fossil",
	0x0167: "Silph Scope",
	0x0168: "Bicycle",
	0x0169: "Town Map",
	0x016A: "VS Seeker",
	0x016B: "Fame Checker",
	0x016C: "TM Case",
	0x016D: "Berry Pouch",
	0x016E: "Teachy TV",
	0x016F: "Tri-Pass",
	0x0170: "Rainbow Pass",
	0x0171: "Tea",
	0x0172: "MysticTicket",
	0x0173: "AuroraTicket",
	0x0174: "Powder Jar",
	0x0175: "Ruby",
	0x0176: "Sapphire",
	0x0177: "Magma Emblem",
	0x0178: "Old Sea Map",
}
